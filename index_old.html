<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dembo, Brown & Burns LLP - Attorneys at Law</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #1a3a5f;
            --secondary: #2c5282;
            --accent: #d4af37; /* Gold accent color */
            --light: #f8f8f8;
            --dark: #333;
            --gray: #666;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background-color: var(--primary);
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
		.letter-d img {
    /* Maintain image aspect ratio */
    width: 100%;
    height: auto;
    /* Center image in circle */
    display: block;
}
        
        .logo-circle {
            height: 70px;
            width: 70px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--accent);
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
		.logo-circle {
    /* Ensure circular container */
    border-radius: 50%;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    /* Adjust dimensions as needed */
    width: 70px;
    height: 70px;
}
        
        .logo-circle .letter-d {
            font-size: 42px;
            font-weight: 800;
            color: var(--primary);
            font-family: Georgia, serif;
            line-height: 1;
            margin-top: -4px;
        }
        
        .logo-text h1 {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 1px;
            color: white;
        }
        
        .logo-text p {
            font-size: 14px;
            font-weight: 300;
            letter-spacing: 0.5px;
            margin-top: 5px;
            color: #e0e0e0;
        }
        
        .contact-info {
            text-align: right;
        }
        
        .contact-info .phone {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--accent);
        }
        
        .contact-info .consultation {
            font-size: 14px;
            font-weight: 300;
            color: #e0e0e0;
        }
        
        /* Navigation */
        nav {
            background-color: var(--secondary);
            padding: 10px 0;
        }
        
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            flex-wrap: wrap;
        }
        
        nav ul li {
            margin: 0 10px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-size: 15px;
            font-weight: 500;
            text-transform: uppercase;
            padding: 8px 5px;
            transition: all 0.3s ease;
            position: relative;
        }
        
        nav ul li a:hover {
            color: var(--accent);
        }
        
        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: width 0.3s ease;
        }
        
        nav ul li a:hover::after {
            width: 100%;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(26, 58, 95, 0.85), rgba(26, 58, 95, 0.9)), url('slide1.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 120px 0;
            text-align: center;
            position: relative;
        }
        
        .hero-content {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }
        
        .hero h2 {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .hero p {
            font-size: 28px;
            font-weight: 300;
            margin-bottom: 40px;
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        .features {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 50px;
        }
        
        .feature-card {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 30px;
            width: 300px;
            text-align: center;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .feature-card i {
            font-size: 48px;
            color: var(--accent);
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            font-size: 22px;
            margin-bottom: 15px;
        }
        
        .feature-card p {
            font-size: 16px;
            margin-bottom: 0;
        }
        
        /* Sections */
        .section {
            padding: 100px 0;
        }
        
        .section-title {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 60px;
            position: relative;
            display: inline-block;
            padding-bottom: 15px;
            text-align: center;
            width: 100%;
        }
        
        .section-title::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--accent);
        }
        
        .section-content {
            font-size: 18px;
            line-height: 1.8;
            color: var(--gray);
        }
        
        .section-content p {
            margin-bottom: 25px;
        }
        
        /* About Section */
        .about {
            background-color: #f0f4f8;
        }
        
        /* Attorneys Section */
        .attorneys-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }
        
        .attorney-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 25px rgba(0,0,0,0.08);
            transition: all 0.4s ease;
        }
        
        .attorney-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }
        
        .attorney-image {
            height: 300px;
            background-color: #ddd;
            background-size: cover;
            background-position: center;
        }
        
        .attorney-content {
            padding: 30px;
        }
        
        .attorney-content h3 {
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .attorney-content .position {
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 15px;
            display: block;
        }
        
        .attorney-content p {
            color: var(--gray);
            margin-bottom: 20px;
            font-size: 16px;
        }
        
        /* Practice Areas */
        .practice-areas {
            background-color: #f0f4f8;
        }
        
        .practice-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .practice-card {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 4px solid var(--accent);
        }
        
        .practice-card h3 {
            font-size: 22px;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .practice-card ul {
            list-style-type: none;
        }
        
        .practice-card ul li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            position: relative;
            padding-left: 25px;
        }
        
        .practice-card ul li:last-child {
            border-bottom: none;
        }
        
        .practice-card ul li::before {
            content: "\f0da";
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            position: absolute;
            left: 0;
            color: var(--accent);
        }
        
        /* Testimonials */
        .testimonials {
            background-color: var(--primary);
            color: white;
        }
        
        .testimonials .section-title {
            color: white;
        }
        
        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .testimonial-card {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 30px;
            text-align: left;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .testimonial-card .quote {
            font-style: italic;
            margin-bottom: 20px;
            font-size: 16px;
            line-height: 1.8;
        }
        
        .client-info {
            display: flex;
            align-items: center;
        }
        
        .client-info .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .client-info .name {
            font-weight: 600;
            font-size: 18px;
        }
        
        /* Contact Section */
        .contact-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
        }
        
        .contact-info2 {
            background-color: var(--primary);
            color: white;
            padding: 40px;
            border-radius: 8px;
        }
        
        .contact-info h3 {
            font-size: 24px;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 15px;
        }
        
        .contact-info h3::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--accent);
        }
        
        .contact-details p {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }
        
        .contact-details i {
            margin-right: 15px;
            color: var(--accent);
            font-size: 20px;
            min-width: 25px;
            margin-top: 4px;
        }
        
        .map-container {
            height: 400px;
            background-color: #eee;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .map-placeholder {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #ddd;
            color: var(--gray);
            font-weight: 600;
        }
        
        /* Footer */
        footer {
            background-color: #0d1f33;
            color: white;
            padding: 50px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 22px;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-column h3::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--accent);
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 15px;
        }
        
        .footer-column ul li a {
            color: #ccc;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .footer-column ul li a:hover {
            color: var(--accent);
            transform: translateX(5px);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 50%;
            color: white;
            font-size: 20px;
            transition: all 0.3s ease;
        }
        
        .social-links a:hover {
            background-color: var(--accent);
            color: var(--primary);
            transform: translateY(-5px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 15px;
            color: #aaa;
            margin-top: 30px;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .contact-content {
                grid-template-columns: 1fr;
            }
            
            .hero h2 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 24px;
            }
        }
        
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                text-align: center;
            }
            
            .logo-container {
                margin-bottom: 20px;
                flex-direction: column;
                text-align: center;
            }
            
            .contact-info {
                text-align: center;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav ul li {
                margin: 8px 0;
            }
            
            .hero {
                padding: 80px 0;
            }
            
            .hero h2 {
                font-size: 28px;
            }
            
            .hero p {
                font-size: 20px;
            }
            
            .section-title {
                font-size: 28px;
            }
        }
        
        /* Added smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Added section anchors */
        .section-anchor {
            position: relative;
            top: 80px; /* Adjust based on header height */
            visibility: hidden;
        }
		.section-anchor2 {
            position: relative;
            top: 0px; /* Adjust based on header height */
            visibility: hidden;
        }
    </style>
</head>
<body>
    <!-- Header with Logo -->
    <header>
        <div class="container">
            <div class="top-bar">
                <div class="logo-container">
                    <div class="logo-circle">
                        <div class="letter-d"> <img src="logo2.png" alt="Logo"></div>
                    </div>
                    <div class="logo-text">
                        <h1>DEMBO, BROWN & BURNS LLP</h1>
                        <p>ATTORNEYS AT LAW</p>
                    </div>
                </div>
                <div class="contact-info">
                    <div class="phone">(856) 354-8866</div>
                    <div class="consultation">Call for a consultation</div>
                </div>
            </div>
        </div>
        
        <nav>
            <div class="container">
                <ul>
                    <li><a href="#home"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#about"><i class="fas fa-info-circle"></i> About</a></li>
                    <li><a href="#attorneys"><i class="fas fa-user-tie"></i> Attorneys</a></li>
                    <li><a href="#practice-areas"><i class="fas fa-balance-scale"></i> Practice Areas</a></li>
                    <li><a href="#reviews"><i class="fas fa-star"></i> Reviews</a></li>
                    <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Anchor for Home -->
    <div id="home" class="section-anchor2"></div>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h2>ATTORNEYS SERVING SOUTH JERSEY & PENNSYLVANIA</h2>
                <p>PROVIDING QUALITY LEGAL ASSISTANCE</p>
                
                <div class="features">
                    <div class="feature-card">
                        <i class="fas fa-graduation-cap"></i>
                        <h3>Expertise</h3>
                        <p>You can trust our team of experienced attorneys with specialized knowledge in various legal areas.</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-briefcase"></i>
                        <h3>Professional</h3>
                        <p>Legal solutions tailored to your specific needs with the highest professional standards.</p>
                    </div>
                    
                    <div class="feature-card">
                        <i class="fas fa-handshake"></i>
                        <h3>Personalized</h3>
                        <p>Services designed around your unique situation with clear communication at every step.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <div id="about" class="section-anchor"></div>
    <section class="section about">
        <div class="container">
            <h2 class="section-title">About Our Firm</h2>
            <div class="section-content">
                <p>Many businesses seeking legal help have tried large firms and found them to be under responsive and overly expensive. There may be a perceived emphasis on billing and less attention paid to results. For these reasons, small firms in general offer advantages to the goal-oriented and cost-conscious client. As with any service industry, the person providing the service is key; a particular firm is chosen for the particular person whose expertise and/or experience is appropriate but also for the chemistry between the client and attorney.</p>
                
                <p>DEMBO, BROWN & BURNS is a small firm. We are not, nor do we intend to be, all things to all clients. Instead, we concentrate and excel in those areas we know and can do best. It is our topmost priority to service our clients by providing quality legal assistance in an efficient and goal-oriented manner. We endeavor to communicate often and effectively with our clients and ensure that our clients know the options available to them at every step in the legal process, be it litigation and/or transaction related.</p>
            </div>
        </div>
    </section>

    <!-- Attorneys Section -->
    <div id="attorneys" class="section-anchor"></div>
    <section class="section">
        <div class="container">
            <h2 class="section-title">Our Attorneys</h2>
            <div class="attorneys-grid">
                <div class="attorney-card">
                  <div class="attorney-image" style="background-color: #e0e0e0; overflow: hidden;">
    <img src="Leon-Dembo.jpg" alt="Leon Dembo" style="width: 100%; height: auto; max-height: 300px; object-fit: cover;" />
  </div>
                    <div class="attorney-content">
                        <h3>Leon D. Dembo</h3>
                        <span class="position">Partner</span>
                        <p>Leon D. Dembo began his legal career with a prominent South Jersey law firm which had many of the South Jersey and Philadelphia area lenders and developers as its clients. In 1991, he founded the law firm of Dembo & Saldutti, LLP. His practice currently involves the representation of major real estate developers in various matters including preparation and negotiation of lease documents and agreements of sale and representation before zoning, planning and other permitting boards and agencies. His practice also includes representing lenders and borrowers in loan transactions involving real estate and asset-based loans.</p>
                    </div>
                </div>
                
                <div class="attorney-card">
                    <div class="attorney-image" style="background-color: #e0e0e0;"></div>
                    <div class="attorney-content">
                        <h3>James W. Burns</h3>
                        <span class="position">Partner</span>
                        <p>James W. Burns specializes in municipal land use law, banking and general litigation. Mr. Burns has substantial transactional and litigation experience representing numerous local and national lending institutions. Mr. Burns is experienced in handling every facet relating to land use and development applications before local planning and zoning boards and serves as the Solicitor to the Township of Deptford Planning and Zoning Boards as well as the Cherry Hill Township Planning Board. In addition, Mr. Burns serves as the Solicitor for the City of Camden Zoning Board and has served as the Solicitor for the Borough of Glassboro Zoning Board and Borough of Somerdale Planning and Zoning Boards.</p>
                    </div>
                </div>
                
                <div class="attorney-card">
                     <div class="attorney-image" style="background-color: #e0e0e0; overflow: hidden;">
    <img src="MEB.jpg" alt="" style="width: 100%; height: auto; max-height: 300px; object-fit: cover;" />
  </div>
                    <div class="attorney-content">
                        <h3>Michael E. Brown</h3>
                        <span class="position">Partner</span>
                        <p>Michael E. Brown specializes in commercial litigation and bankruptcy matters. He has developed an expertise in representing commercial lenders and landlords in all facets of litigation. After clerking for the Honorable Francis J. Orlando, Jr., Assignment Judge of the Superior Court of New Jersey, Camden County, Mr. Brown was an associate with Ballard Spahr Andrews & Ingersoll, LLP where he represented creditors in all aspects of the bankruptcy process and parties in commercial litigation matters. Mr. Brown is a graduate of the University of Michigan and Rutgers University School of Law, with honors, and is currently admitted to practice law in New Jersey and Pennsylvania.</p>
                    </div>
                </div>
                
                <div class="attorney-card">
                     <div class="attorney-image" style="background-color: #e0e0e0; overflow: hidden;">
    <img src="Kyle_Eingorn.jpg" alt="" style="width: 100%; height: auto; max-height: 300px; object-fit: cover;" />
  </div>
                    <div class="attorney-content">
                        <h3>Kyle F. Eingorn</h3>
                        <span class="position">Attorney</span>
                        <p>Kyle F. Eingorn specializes in bankruptcy and commercial litigation. Mr. Eingorn began his legal career working for a Chapter 7 Bankruptcy Trustee while attending law school at night. Upon graduation, he continued as counsel for the Chapter 7 Trustee, as well as representing corporate and individual clients in bankruptcy, collection, landlord-tenant, and commercial litigation matters. Mr. Eingorn has interned for the Honorable Bill Mathesius, J.S.C. Ret. and the Honorable Douglas Arpert, U.S.M.J. He previously practiced law as an associate at Teich Groh in Trenton, New Jersey.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Practice Areas Section -->
    <div id="practice-areas" class="section-anchor"></div>
    <section class="section practice-areas">
        <div class="container">
            <h2 class="section-title">Practice Areas</h2>
            <div class="practice-grid">
                <div class="practice-card">
                    <h3>Banking and Real Estate</h3>
                    <p>Our banking and real estate practice involves the entire Southern and Central New Jersey region, as well as Philadelphia and includes:</p>
                    <ul>
                        <li>Real Estate Financing</li>
                        <li>Zoning and Land Use Planning</li>
                        <li>Negotiation of sales and development agreements</li>
                        <li>Commercial loan negotiation and documentation</li>
                        <li>Commercial leases</li>
                        <li>Representation of lenders in all real estate matters (REO Properties)</li>
                        <li>General representation of both borrowers and lenders</li>
                    </ul>
                </div>
                
                <div class="practice-card">
                    <h3>Commercial Litigation</h3>
                    <p>Commercial litigation represents a significant portion of our practice, at both the state and federal levels. We possess litigation experience and expertise in the following areas:</p>
                    <ul>
                        <li>Commercial and contract disputes</li>
                        <li>Zoning appeals and litigation</li>
                        <li>Real estate disputes</li>
                        <li>Real estate tax appeals</li>
                        <li>Lender defense representation including UCC claims</li>
                        <li>Mortgage foreclosures</li>
                        <li>Loan and lease enforcement</li>
                        <li>Collection matters</li>
                        <li>Representation of Creditors in all aspects of Bankruptcy</li>
                    </ul>
                </div>
                
                <div class="practice-card">
                    <h3>General Business Counseling</h3>
                    <p>This firm also prides itself on the level of general business counseling it provides to businesses throughout the region. This assistance takes the form of:</p>
                    <ul>
                        <li>Partnership agreements</li>
                        <li>Incorporation and limited liability services</li>
                        <li>Sale or transfers of assets</li>
                        <li>Environmental compliance issues</li>
                        <li>Directors and officers liability</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

   <!-- Reviews Section -->
<div id="reviews" class="section-anchor"></div>
<section class="section testimonials">
  <div class="container">
    <h2 class="section-title">Client Testimonials</h2>
    <div class="testimonial-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">

      <div class="testimonial-card" style="display: flex; flex-direction: column; justify-content: space-between; min-height: 300px;">
        <div class="quote" style="margin-bottom: auto;">
          "Can't say enough great things about this firm. Amazing attorneys and even better people!"
        </div>
        <div style="margin-top: 1rem;">
          <div class="stars" style="color: #FFD700; font-size: 1.2rem; margin-bottom: 0.5rem;">★★★★★</div>
          <div class="client-info" style="display: flex; align-items: center; gap: 0.5rem;">
            <div class="avatar">EL</div>
            <div class="name">Evan Lazarus</div>
          </div>
        </div>
      </div>

      <div class="testimonial-card" style="display: flex; flex-direction: column; justify-content: space-between; min-height: 300px;">
        <div class="quote" style="margin-bottom: auto;">
          "Awesome friendly people that will help you with anything"
        </div>
        <div style="margin-top: 1rem;">
          <div class="stars" style="color: #FFD700; font-size: 1.2rem; margin-bottom: 0.5rem;">★★★★★</div>
          <div class="client-info" style="display: flex; align-items: center; gap: 0.5rem;">
            <div class="avatar">IV</div>
            <div class="name">Isaac Vogel</div>
          </div>
        </div>
      </div>

      <div class="testimonial-card" style="display: flex; flex-direction: column; justify-content: space-between; min-height: 300px;">
        <div class="quote" style="margin-bottom: auto;">
          "After a difficult business situation, Dembo, Brown & Burns helped me navigate the complex legal aspects. Their attention to detail and strategic approach saved our company."
        </div>
        <div style="margin-top: 1rem;">
          <div class="stars" style="color: #FFD700; font-size: 1.2rem; margin-bottom: 0.5rem;">★★★★★</div>
          <div class="client-info" style="display: flex; align-items: center; gap: 0.5rem;">
            <div class="avatar">PR</div>
            <div class="name">Patrick Rood</div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

    <!-- Contact Section -->
    <div id="contact" class="section-anchor"></div>
    <section class="section">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Our Office</h3>
                    <div class="contact-details">
                        <p>
                            <i class="fas fa-map-marker-alt"></i>
                            1300 Route 73, Suite 205<br>
                            Mt. Laurel, New Jersey 08054
                        </p>
                        <p>
                            <i class="fas fa-phone"></i>
                            (856) 354-8866
                        </p>
                        <p>
                            <i class="fas fa-fax"></i>
                            (856) 354-0971
                        </p>
                        <p>
                            <i class="fas fa-envelope"></i>
                            info@dembobrownburns.com
                        </p>
                        <p>
                            <i class="fas fa-clock"></i>
                            Monday - Friday: 9:00 AM - 5:00 PM
                        </p>
                    </div>
                </div>
                
                <div class="map-container">
                    <div class="map-placeholder">
                       <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3060.081992916863!2d-74.94844348844343!3d39.91718127140557!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c134c2442474d7%3A0x37c7c3378e8377de!2sDembo%20%26%20Saldutti%20LLC!5e0!3m2!1sen!2sus!4v1749645953101!5m2!1sen!2sus" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#about"><i class="fas fa-chevron-right"></i> About</a></li>
                        <li><a href="#attorneys"><i class="fas fa-chevron-right"></i> Attorneys</a></li>
                        <li><a href="#practice-areas"><i class="fas fa-chevron-right"></i> Practice Areas</a></li>
                        <li><a href="#contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Practice Areas</h3>
                    <ul>
                        <li><a href="#practice-areas"><i class="fas fa-chevron-right"></i> Banking & Real Estate</a></li>
                        <li><a href="#practice-areas"><i class="fas fa-chevron-right"></i> Commercial Litigation</a></li>
                        <li><a href="#practice-areas"><i class="fas fa-chevron-right"></i> Business Counseling</a></li>
                        <li><a href="#practice-areas"><i class="fas fa-chevron-right"></i> Bankruptcy</a></li>
                        <li><a href="#practice-areas"><i class="fas fa-chevron-right"></i> Zoning & Land Use</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Contact Information</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 1300 Route 73, Suite 205<br>Mt. Laurel, NJ 08054</p>
                    <p><i class="fas fa-phone"></i> (856) 354-8866</p>
                    <p><i class="fas fa-envelope"></i> info@dembobrownburns.com</p>
                    
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 Dembo, Brown & Burns LLP. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
	

    <script>
        // JavaScript to handle scrolling for sections
        document.addEventListener('DOMContentLoaded', function() {
            // Get all navigation links
            const navLinks = document.querySelectorAll('nav a');
            
            // Add click event listeners
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href').substring(1);
                    
                    // Find the target element
                    const targetElement = document.getElementById(targetId);
                    
                    if(targetElement) {
                        e.preventDefault();
                        
                        // Calculate offset position
                        const headerHeight = document.querySelector('header').offsetHeight;
                        const targetPosition = targetElement.offsetTop - headerHeight;
                        
                        // Smooth scroll
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
	<!-- Vapi Chat Widget -->
<script>
(function () {
  const styles = `
    <style>
      #vapiToggleBtn {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 1000;
        background-color: #5dfeaa;
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        font-size: 24px;
        color: #000;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }
	#vapiToggleBtn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(139, 92, 246, 0.6);
            gap: 15px;
        }
      #vapiChatOverlay {
        display: none;
        position: fixed;
        bottom: 100px;
        right: 30px;
        z-index: 999;
        width: 360px;
        max-height: 60vh;
        background: #fff;
        border-radius: 16px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        overflow: hidden;
        font-family: sans-serif;
        border: 1px solid #ddd;
        flex-direction: column;
      }
  #vapiChatOverlay.active {
            display: flex;
            transform: translateY(0);
            opacity: 1;
        }
 .chat-header {
            background: linear-gradient(45deg, #1a2a6c, #b21f1f);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }
        
        .chat-header-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .chat-header img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .chat-header-text h2 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .chat-header-text p {
            font-size: 0.85rem;
            opacity: 0.9;
        }
.close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

     #chatMessages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: #f8f8f8;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
.message {
            max-width: 80%;
            padding: 12px 15px;
            border-radius: 18px;
            position: relative;
            animation: fadeInMsg 0.3s ease;
            word-wrap: break-word;
			line-height: 1.5;
            font-size: 15px;
        }
.vapi-assistant {
            background: #e6f0ff;
            color: #1a2a6c;
            border-bottom-left-radius: 5px;
            align-self: flex-start;
        }
        
        .vapi-user {
            background: #1a2a6c;
            color: white;
            border-bottom-right-radius: 5px;
            align-self: flex-end;
        }
      #chatControls {
        display: flex;
        padding: 10px;
        border-top: 1px solid #ddd;
        gap: 10px;
		background: white;
      }
      #chatInput {
        flex: 1;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 6px;
      }
     
@keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeInMsg {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
 @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
.welcome-message {
            background: #e6f0ff;
            color: #1a2a6c;
            padding: 15px;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            margin-bottom: 15px;
            animation: fadeInMsg 0.5s ease;
        }
 .typing-indicator {
            background: #e6f0ff;
            color: #1a2a6c;
            padding: 15px;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            align-self: flex-start;
            display: inline-block;
            width: auto;
        }
        
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #1a2a6c;
            border-radius: 50%;
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }



      #transcriptBox {
        display: none;
        position: fixed;
        bottom: 100px;
        right: 30px;
        width: 360px;
        max-height: 60vh;
        background: #fff;
        border-radius: 16px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        overflow-y: auto;
        padding: 10px;
        font-family: sans-serif;
        border: 1px solid #ddd;
        z-index: 998;
      }
	.send-button {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            padding: 10px 10px;
            background: linear-gradient(45deg, #6366f1, #8b5cf6, #d946ef);
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
            transform: translateY(0);
        }
	.send-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(139, 92, 246, 0.6);
            gap: 15px;
        }
	.send-button .icon {
  		width: 16px;
  		height: 16px;
		filter: brightness(0) invert(1);
	}
#vapi-support-btn{
		position: fixed;
		
        display: none;
      }
 .chat-popup {
      position: fixed;
      bottom: 100px;
      right: 30px;
      background-color: #333;
      color: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      padding: 20px;
      width: 300px;
      z-index: 1000;
      display: none;
      animation: fadeIn 0.5s ease-out;
    }

    .chat-popup::after {
      content: '';
      position: absolute;
      bottom: -10px;
      right: 40px;
      border-width: 10px 10px 0;
      border-style: solid;
      border-color: #333 transparent;
      display: block;
      width: 0;
    }

    .chat-popup img.agent-img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      position: absolute;
      top: -30px;
      left: calc(50% - 30px);
      border: 3px solid white;
    }

    .chat-popup .close-btn2 {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 18px;
      cursor: pointer;
    }

    .chat-popup h3 {
      margin-top: 30px;
      font-size: 20px;
      text-align: center;
    }

    .chat-popup p {
      font-size: 15px;
      text-align: center;
      margin: 10px 0 0;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(20px);}
      to {opacity: 1; transform: translateY(0);}
    }
#phone {
  color: white;
  text-decoration: none; /* Optional: removes underline */
}

#phone:hover {
  color: #ddd; /* Optional: light gray on hover */
}

    </style>
  `;

  const html = `
    <button id="vapiToggleBtn">💬</button>
    <div id="vapiChatOverlay">
<div class="chat-header">
            <div class="chat-header-content">
                <img src="Leon-Dembo.jpg" alt="Chat Icon">
                <div class="chat-header-text">
                    <h2>Online Now</h2>
Chat with an assistant for Dembo, Brown & Burns LLP
<!---Or call me at <a id="phone" href="tel:7165759053">(716) 575-9053</a> <br> type: <i>voice</i> to switch to voice  --->
                </div>
            </div>
            <button class="close-btn" onclick="closeChatOverlay()">&times;</button>
        </div>
      <div id="chatMessages"> <div class="message vapi-assistant welcome-message">
                You have entered the conversation. Waiting on an assistant...say, "Hi" to get started
            </div></div>
      <div id="chatControls">
        <input type="text" id="chatInput" placeholder="Type your message..." />
        <button class="send-button" onclick="sendChat()"> <span>Send</span>
  <img src="https://digitalfootprints.app/paper-air.svg" alt="Send icon" class="icon"></button>
      </div>
    </div>
    <div id="transcriptBox"></div>
 <!-- Live Chat Popup -->
  <div class="chat-popup" id="chatBox">
    <img src="Leon-Dembo.jpg" alt="Agent" class="agent-img">
    <span class="close-btn2" onclick="closeChat()">×</span>
    <h3>LIVE CHAT</h3>
    <p>Your 24/7 Live Assistant is ready to help.</p>
<!-- Moved the Vapi Button into the Chat Popup 
<br><i> Mic icon = voice call <br>Text bubble = text chat</i>-->

  </div>
  `;

 
	
	document.head.insertAdjacentHTML("beforeend", styles);
  document.body.insertAdjacentHTML("beforeend", html);
	 window.onload = function() {
      document.getElementById("chatBox").style.display = "block";
		 
    };

    

  const assistantId = "7280ea01-da6d-4bd7-8e94-a724e8e116c9";
  const apiKey = "972f3c4c-89cf-4ca3-91d9-468732895b04";
  const webhookToolId = "00c96666-c5fa-4b48-8523-083b255c7c71";
  const webhookUrl = "https://hook.us2.make.com/khka18x8gyvkxujk1xt70ug2m15qttbj"; //"https://hook.us2.make.com/e7s16ufdo3drbrbmrg1sngdmthmu98k1"; ///"https://hook.us2.make.com/khka18x8gyvkxujk1xt70ug2m15qttbj";   ////this is for the make.com for digitalfootprintsapp@gmail.com
	const vapiBtnContainer = document.getElementById('vapi-support-btn');

  let lastAssistantTranscript = "";
  let isTextChat = false;
  let vapiInstance = null;
  let isCallActive = false;
  let currentChatId = null;
  const conversationHistory = [];

  const buttonConfig = {
  //position: "top-right", // "bottom" | "top" | "left" | "right" | "top-right" | "top-left" | "bottom-left" | "bottom-right"
  offset: "40px", // decide how far the button should be from the edge
  width: "45px", // min-width of the button
  height: "45px", // height of the button
  idle: { // button state when the call is not active.
    color: `rgb(93, 254, 202)`, 
    type: "round", //pill or "round"
    title: "Have a quick question?", // only required in case of Pill
    subtitle: "Talk with our AI assistant", // only required in case of pill
    icon: `https://unpkg.com/lucide-static@0.321.0/icons/mic.svg`,
  },
  loading: { // button state when the call is connecting
    color: `rgb(93, 124, 202)`,
    type: "round", // or "round"
    title: "Connecting...", // only required in case of Pill
    subtitle: "Please wait", // only required in case of pill
    icon: `https://unpkg.com/lucide-static@0.321.0/icons/loader-2.svg`,
  },
  active: { // button state when the call is in progress or active.
    color: `rgb(255, 0, 0)`,
    type: "round", // or "round"
    title: "Call is in progress...", // only required in case of Pill
    subtitle: "End the call.", // only required in case of pill
    icon: `https://unpkg.com/lucide-static@0.321.0/icons/mic-off.svg`,
  },
}; // Modify this as required

  document.getElementById("vapiToggleBtn").onclick = function () {
    const overlay = document.getElementById("vapiChatOverlay");
    //overlay.style.display = overlay.style.display === "none" ? "flex" : "none";
	  overlay.style.display = overlay.style.display === "flex" ? "none" : "flex";
	  const transcriptBox = document.getElementById("transcriptBox");
  if (transcriptBox) transcriptBox.style.display = "none";
	   const vapiBtnContainer = document.getElementById('vapi-support-btn');
	
      if (vapiBtnContainer) vapiBtnContainer.style.display = "none";
	  closeChat();
	  
  };
	
	
	

  function appendChatMessage(text, sender = "user") {
    const box = document.getElementById("chatMessages");
    const messageDiv = document.createElement("div");
            messageDiv.classList.add("message");
            messageDiv.classList.add(sender === "assistant" ? "vapi-assistant" : "vapi-user");
            messageDiv.textContent = text;
            box.appendChild(messageDiv);
    box.scrollTop = box.scrollHeight;
    conversationHistory.push({ role: sender, content: text });
  }
function showTypingIndicator() {
            const box = document.getElementById("chatMessages");
            const typingDiv = document.createElement("div");
            typingDiv.classList.add("typing-indicator");
            typingDiv.innerHTML = '<span></span><span></span><span></span>';
            box.appendChild(typingDiv);
            box.scrollTop = box.scrollHeight;
            return typingDiv;
        }
        
        function removeTypingIndicator(indicator) {
            if (indicator && indicator.parentNode) {
                indicator.parentNode.removeChild(indicator);
            }
        }
	 // Helper function to toggle Vapi mic button visibility
  function toggleVapiButton(show) {
    const vapiBtnContainer = document.getElementById('vapi-support-btn');
	
      if (vapiBtnContainer) vapiBtnContainer.style.display = "block";
   
  }

  window.sendChat = function () {
    const inputEl = document.getElementById("chatInput");
    const userMessage = inputEl.value.trim();
    if (!userMessage) return;

    appendChatMessage(userMessage, "user");
    inputEl.value = "";
	  // Show typing indicator
            const typingIndicator = showTypingIndicator();
	  // Simulate AI response
         //   setTimeout(() => {
             //   removeTypingIndicator(typingIndicator);
                
                
          //  }, 1500 + Math.random() * 1000);
        

    if (userMessage.toLowerCase() === "voice") {
      const chatOverlay = document.getElementById("vapiChatOverlay");
      if (chatOverlay) chatOverlay.style.display = "none";
      const transcriptBox = document.getElementById("transcriptBox");
      if (transcriptBox) transcriptBox.style.display = "block";
		transcriptBox.innerHTML = '';
		const prompt = document.createElement("p");
		 
    prompt.textContent = "Click the voice button (mic) to get started";
    prompt.style.color = "gray";
    prompt.style.textAlign = "center";
    transcriptBox.appendChild(prompt);
		// Show Vapi mic button when switching to voice
      toggleVapiButton(true);
      console.log("Switched to voice mode. Waiting for user to click the voice button.");
		removeTypingIndicator(typingIndicator);
      return;
    }

    const requestBody = {
      assistantId,
      input: userMessage,
      ...(currentChatId && { previousChatId: currentChatId })
    };

    fetch("https://api.vapi.ai/chat", {
      method: "POST",
      headers: {
        Authorization: `Bearer 9f4cc161-fe8c-4473-8e18-2079dc5b58fa`,
        "Content-Type": "application/json"
      },
      body: JSON.stringify(requestBody)
    })
      .then(res => res.json())
      .then(data => {
        if (data.id) currentChatId = data.id;
        const responseText = data.output?.[0]?.content;
        if (responseText) {
		removeTypingIndicator(typingIndicator);
          appendChatMessage(responseText, "assistant");
          const normalized = responseText.toLowerCase();
          const triggerPhrases = [
            "thank you for that information",
            "great! thank you for confirming",
            "i've already collected your contact information",
            "thanks again for contacting the law offices of dembo, brown & burns",
            "we've got it",
            "we'll be in touch shortly",
            "i’ve sent your info"
          ];
          if (triggerPhrases.some(p => normalized.includes(p))) {
            if (vapiInstance?.invokeToolFunction) {
              vapiInstance.invokeToolFunction(webhookToolId);
              appendChatMessage("Okay, we’ve sent your info. Thanks!", "assistant");
            }
            sendToMakeWebhook();
          }
        } else {
          appendChatMessage("Sorry, no valid response received.", "assistant");
        }
      })
      .catch(err => {
        console.error(err);
        appendChatMessage("Error connecting to assistant.", "assistant");
      });
  };

  function sendToMakeWebhook() {
  const rawTranscript = conversationHistory.map(e => `${e.role}: ${e.content}`).join("\n");
  const transcriptWithBreaks = rawTranscript.replace(/\n/g, "<br>");
  const transcript = transcriptWithBreaks;

  const extractNameFromContext = () => {
    for (let i = 0; i < conversationHistory.length - 1; i++) {
      const entry = conversationHistory[i];
      const nextEntry = conversationHistory[i + 1];
      if (
        entry.role === "assistant" &&
        /your name|may I have your name|can I get your name|full name/i.test(entry.content) &&
        nextEntry.role === "user"
      ) {
        const match = nextEntry.content.match(/^([A-Z][a-z]+(?:\s+[A-Z][a-z]+)+)$/);
        return match ? match[1] : nextEntry.content.trim();
      }
    }
    return "";
  };

  const extractPhone = (text) => {
    const match = text.match(/(?:\b|\D)(\d{3})[\s\-]?(\d{3})[\s\-]?(\d{4})(?:\b|\D)/);
    return match ? `${match[1]}-${match[2]}-${match[3]}` : "";
  };

  const extractEmail = (text) => {
    const match = text.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-z]{2,}/);
    return match ? match[0] : "";
  };

  const extractLocationInfo = () => {
    let isFromBuffalo = "unsure";
    let city = "";
    let state = "";
    let zip = "";

    for (let i = 0; i < conversationHistory.length - 1; i++) {
      const entry = conversationHistory[i];
      const nextEntry = conversationHistory[i + 1];

      if (
        entry.role === "assistant" &&
        /Are you located in or near Philadelphia or Southern New Jersey\??$/i.test(entry.content)
      ) {
        const userReply = nextEntry?.content?.toLowerCase().trim();
        if (userReply === "yes" || userReply.startsWith("yes")) {
          isFromBuffalo = "yes";
        } else if (userReply === "no") {
          isFromBuffalo = "no";
        }
      }
    }

    const cityMatch = transcript.match(/\b(?:city|in|at|from)\s+([A-Z][a-z]+(?:\s[A-Z][a-z]+)*)\b/);
    const stateMatch = transcript.match(/\b(NY|New York|PA|Pennsylvania|NJ|New Jersey|OH|Ohio)\b/i);
    const zipMatch = transcript.match(/\b\d{5}(-\d{4})?\b/);

    if (cityMatch) city = cityMatch[1];
    if (stateMatch) state = stateMatch[0];
    if (zipMatch) zip = zipMatch[0];

    return { isFromBuffalo, city, state, zip };
  };

  const name = extractNameFromContext();
  const phone = extractPhone(transcript);
  const email = extractEmail(transcript);
  const summary = "Submitted via text chat (no voice call)";
  const pageUrl = window.location.href;
  const referrerUrl = document.referrer;

  const { isFromBuffalo, city, state, zip } = extractLocationInfo();

  fetch(webhookUrl, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      full_name: name || "Not found",
      phone: phone || "Not found",
      email: email || "Not found",
      call_summary: summary,
      full_transcript: transcript,
      source: "text-chat",
      page_url: pageUrl,
      referrer_url: referrerUrl,
      city_is_buffalo_or_wny: isFromBuffalo,
      ...(city && { city }),
      ...(state && { state }),
      ...(zip && { zip })
    })
  })
    .then(() => {
      appendChatMessage("Your information has been sent. Thank you!", "assistant");
    })
    .catch((err) => {
      console.error("Webhook failed:", err);
      appendChatMessage("There was an error sending your information.", "assistant");
    });
}

  document.addEventListener("keydown", function (event) {
    const chatInput = document.getElementById("chatInput");
    if (document.activeElement === chatInput && event.key === "Enter") {
      event.preventDefault();
      sendChat();
    }
  });

  const s = document.createElement("script");
  s.src = "https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js";
  s.async = true;
  s.onload = function () {
 
  
    vapiInstance = window.vapiSDK.run({
      apiKey: apiKey,
      assistant: assistantId,
      config: buttonConfig,
	container: vapiBtnContainer  // Mount button inside specific container
    });

    vapiInstance.on("call-start", () => {
      isCallActive = true;
const chatOverlay = document.getElementById("vapiChatOverlay");
      if (chatOverlay) chatOverlay.style.display = "none";
const transcriptBox = document.getElementById("transcriptBox");
      if (transcriptBox) transcriptBox.style.display = "block";
    });

    vapiInstance.on("call-end", () => {
      isCallActive = false;
		const transcriptBox = document.getElementById("transcriptBox");
  if (transcriptBox) transcriptBox.style.display = "none";
    });

    vapiInstance.on("message", (message) => {
      if (message.type === "conversation-update") {
        currentChatId = message.conversation.id;
      }

      if (message.type === "transcript") {
        const role = message.role || "";
        const transcript = message.transcript?.trim() || "";
        const isPartial = message.transcriptType === "partial";

        const box = document.getElementById("transcriptBox");
        if (box) {
          const p = document.createElement("p");
          p.textContent = transcript;
          p.style.color = role === "assistant" ? "#007bff" : "red";
          p.style.textAlign = role === "assistant" ? "left" : "right";

          const last = box.lastElementChild;
          if (last && last.style.textAlign === p.style.textAlign && isPartial) {
            box.removeChild(last);
          }

          box.appendChild(p);
          box.scrollTop = box.scrollHeight;
        }

        if (role === "assistant" && !isPartial) {
          lastAssistantTranscript = transcript;
        }

        if (role === "user" && transcript.toLowerCase().includes("switch to text") && !isTextChat) {
          if (isCallActive && typeof vapiInstance.stop === "function") {
            vapiInstance.stop();
          }

          isTextChat = true;
          const chatOverlay = document.getElementById("vapiChatOverlay");
          const transcriptBox = document.getElementById("transcriptBox");
          if (chatOverlay) chatOverlay.style.display = "flex";
          if (transcriptBox) transcriptBox.style.display = "none";

          setTimeout(() => {
            if (lastAssistantTranscript) {
              appendChatMessage(lastAssistantTranscript, "assistant");
              conversationHistory.push({
                role: "assistant",
                content: lastAssistantTranscript
              });
            }
          }, 300);
        }
      }
    });
  };
  document.body.appendChild(s);
})();
function closeChat() {
      document.getElementById("chatBox").style.display = "none";
    };
function closeChatOverlay() {
      document.getElementById("vapiChatOverlay").style.display = "none";
    };
</script>
</body>
</html>
